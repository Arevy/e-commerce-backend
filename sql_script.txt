CREATE TABLE PRODUCTS (
  ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NAME VARCHAR2(255) NOT NULL,
  PRICE NUMBER(10, 2) NOT NULL,
  DESCRIPTION VARCHAR2(500)
);

INSERT INTO PRODUCTS (NAME, PRICE, DESCRIPTION)
VALUES ('Laptop', 999.99, 'High-performance laptop');

INSERT INTO PRODUCTS (NAME, PRICE, DESCRIPTION)
VALUES ('Smartphone', 499.99, 'Latest generation smartphone');

COMMIT


SELECT * FROM PRODUCTS;

INSERT INTO PRODUCTS (NAME, PRICE, DESCRIPTION)
VALUES ('Test Product', 100.00, 'Description for Test Product');


CREATE TABLE CATEGORIES (
  ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  NAME VARCHAR2(255) NOT NULL UNIQUE,
  DESCRIPTION VARCHAR2(500)
);

ALTER TABLE PRODUCTS ADD CATEGORY_ID NUMBER;

ALTER TABLE PRODUCTS ADD CONSTRAINT FK_PRODUCTS_CATEGORIES FOREIGN KEY (CATEGORY_ID)
REFERENCES CATEGORIES (ID);


CREATE TABLE USERS (
  ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  EMAIL VARCHAR2(255) NOT NULL UNIQUE,
  PASSWORD VARCHAR2(255) NOT NULL,
  NAME VARCHAR2(255)
);


SELECT *  FROM categories;

UPDATE PRODUCTS SET CATEGORY_ID = 1 WHERE CATEGORY_ID IS NULL;
COMMIT;

INSERT INTO CATEGORIES (NAME, DESCRIPTION) VALUES ('Electronics', 'Electronic devices and gadgets');
INSERT INTO CATEGORIES (NAME, DESCRIPTION) VALUES ('Books', 'Wide variety of books');
INSERT INTO CATEGORIES (NAME, DESCRIPTION) VALUES ('Clothing', 'Apparel and accessories');
COMMIT;

